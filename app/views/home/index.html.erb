<!DOCTYPE html>
<html>
<head>
</head>
<body>
	<div id="topbar">
		<div>
			<h1>De Rockschool</h1>
		</div>
		<div>
			<nav>
				<% if @current_user.isAdmin %>
				<input type="radio" id="teachers" name="radio"><label for="teachers">Leerkrachten</label></input>
	   	 		<input type="radio" id="students" name="radio"><label for="students">Leerlingen</label></input>
	   	 		<input type="radio" id="options" name="radio"><label for="options">Opties</label></input>
	   	 		<input type="radio" id="logout" name="radio"><label for="logout">Uitloggen</label></input>
	   	 		<% elsif @current_user.isTeacher %>
	   	 		<input type="radio" id="teachers" name="radio"><label for="teachers">Profiel</label></input>
	   	 		<input type="radio" id="students" name="radio"><label for="students">Leerlingen</label></input>
	   	 		<input type="radio" id="logout" name="radio"><label for="logout">Uitloggen</label></input>
	   	 		<% elsif @current_user.isStudent %>
	   	 		<input type="radio" id="teachers" name="radio"><label for="teachers">Leerkrachten</label></input>
	   	 		<input type="radio" id="students" name="radio"><label for="students">Profiel</label></input>
	   	 		<input type="radio" id="logout" name="radio"><label for="logout">Uitloggen</label></input>
	   	 		<% else %>
	   	 		<input type="radio" id="login" name="radio"><label for="login">Login</label></input>
	   	 		<input type="radio" id="signup" name="radio"><label for="signup">Registreren</label></input>
	   	 		<% end %>
	   	 	</nav>
		</div>
	<div>

	<div id="mainpage">
		<div id="sidebar"></div>
		<div id="middle"></div>
	</div>

	<script type="text/template" class="template" id="teachersIndexViewTemplate">
		<div id="teachersIndex">
			 {{#teachers}}
			 	<button class="teacher teachersBox" data-id="{{id}}">{{name}}</button><br>
			{{/teachers}}
				<% if @current_user.isAdmin %>
				<button class="addTeacher teachersBox">Leraar toevoegen</button>
				<% end %>
		</div>
	</script>
	<script type="text/template" class="template" id="studentsIndexViewTemplate">
		<div id="studentsIndex"> 
			 {{#students}}
			 	<button class="student studentsBox" data-id="{{id}}">{{getName}}</button><br>
			{{/students}}
				<% if @current_user.isAdmin %>
				<button class="addStudent studentsBox">Leerling toevoegen</button>
				<% end %>
		</div>
	</script>
	<script type="text/template" class="template" id="lessonsSearchTemplate">
		<div id="searchScreen" class="configScreen">
			<h1>Lessen zoeken</h2>
			<label for="status">Status les:</label>
			<select name="statusses">
				{{#statusses}}
					<option value="{{key}}">{{name}}</option>
				{{/statusses}}
			</select>
			<button class="searchButton">Zoek</button><br>
			{{#lessons}}
				<span data-id={{attributes.id}} class="lessonbox lesson-{{attributes.status}}">{{getStudentName}}</span>
			{{/lessons}}
		</div>
	</script>
	
	<script type="text/template" class="template" id="teacherDetailsTemplate">
		<div id="teacherDetails" class="configScreen">
			<h3>Gegevens leraar:</h3>
			<form>
				<h2>Naam:</h2>
				<input type="text" name="name" value="{{name}}"><br>
				<h2>Tijdstip start lessen:</h2>
				<input type="text" name="startTime" value="{{startTime}}"><br>
				<h2>Tijdstip einde lessen:</h2>
				<input type="text" name="endTime" value="{{endTime}}"><br>
				<h2>Lesdagen</h2>
				<input type="checkbox" name="daysOpen" id="monday" {{#monday}}checked{{/monday}} > Maandag
				<input type="checkbox" name="daysOpen" id="tuesday" {{#tuesday}}checked{{/tuesday}} > Dinsdag
				<input type="checkbox" name="daysOpen" id="wednesday" {{#wednesday}}checked{{/wednesday}} > Woensdag
				<input type="checkbox" name="daysOpen" id="thursday" {{#thursday}}checked{{/thursday}} > Donderdag
				<input type="checkbox" name="daysOpen" id="friday" {{#friday}}checked{{/friday}} > Vrijdag
				<input type="checkbox" name="daysOpen" id="saturday" {{#saturday}}checked{{/saturday}} > Zaterdag
				<input type="checkbox" name="daysOpen" id="sunday" {{#sunday}}checked{{/sunday}} > Zondag
				<br>
				<button class="submitButton">Opslaan</button>
			</form>
		</div>
	</script>
	<script type="text/template" class="template" id="addStudentTemplate">
		<div id="studentDetails" class = "configScreen">
			<h3>Gegevens nieuwe registratie:</h3>
			<form>
				<table>
					<tr><td><label for="firstname">Voornaam:</label></td><td><input type="text" name="firstname"</td></tr>
					<tr><td><label for="lastname">Achternaam:</label></td><td><input type="text" name="lastname"</td></tr>
					<tr><td><label for="phone">Telefoonnummer:</label></td><td><input type="text" name="phone"><br></tr></td>
					<tr><td><label for="address1">Adres:</label></td><td><input type="text" name="address1"><br></tr></td>
					<tr><td><label for="address2">Adres:</label></td><td><input type="text" name="address2"><br></tr></td>
					<tr><td><label for="email">E-mail:</label></td><td><input type="text" name="email"><br></tr></td>
					<tr><td></td><td><input type="checkbox" name="mail_student" checked>Confirmatiemail?</td></tr>
					<tr><td></td><td><button class="submitButton">Voer registratie uit</button></tr></td>
				</table>
			</form>
		<div>
	</script>

	<script type="text/template" class="template" id="teacherTeachingDropDownTemplate">
		<ul class="menu">
			<li><a class="enroll" href="#">Inschrijven</a></li>
			<% if @current_user.isAdmin %>
			<li><a class="makeLessongroup" href="#">Maak groepsles</a></li>
			<% end %>
		</ul>
	</script>
	
	<script type="text/template" class="template" id="grouplessonDropDownTemplate">
		<ul class="menu">
			<li><a class="enroll" href="#">Inschrijven</a></li>
			<li><a class="grouplessonDetails" href="#">Groepsles details</a></li>

		</ul>
	</script>
	<script type="text/template" class="template" id="lessonDropDownTemplate">
		<ul class="menu">
			<li><a href= "#">Student: {{student.getName}}</a></li>
			<li><a href= "#">Leeraar: {{teacher.name}}</a></li>
			<li><a href= "#">Tijdstip: {{datetime}}</a></li>
			<li><a href= "#">Status: {{status}}</a>
				<ul>
					{{#choices}}
					<li><a href="#" class="status" data-action="{{action}}">{{label}}</a></li>
					{{/choices}}
				</ul>
			</li>
		</ul>
	</script>
	<script type="text/template" class="template" id="enrollmentDropDownTemplate">
		<ul class="menu">
			<li><a href= "#">Student: {{student.getName}}</a></li>
			<li><a href= "#">Leeraar: {{teacher.name}}</a></li>
			<li><a href= "#">Tijdstip: {{datetime}}</a></li>
			<li><a href= "#">Geaccepteerd: {{#approved}}Ja{{/approved}}{{^approved}}Nee{{/approved}}</a>
			<li><a href= "#">Betaald: {{#paid}}Ja{{/paid}}{{^paid}}Nee{{/paid}}</a>
			<li><a href= "#">Acties:</a>
				<ul>
					{{#choices}}
					<li><a href="#" class="status" data-key="{{key}}">{{label}}</a></li>
					{{/choices}}
				</ul>
			</li>
		</ul>
	</script>
	<script type="text/template" class="template" id="scheduleViewItemTemplate">
		<td class="{{htmlClass}}" rowspan = "{{rowspan}}" colspan ="{{colspan}}" data-startTime = "{{startTime}}" data-duration = "{{duration}}" data-id="{{id}}"> 
			{{text}}
		</td>
	</script>
	<script type="text/template" class="template" id="enrollmentDialogTemplate">
		<div id="enrollmentDialog" title="Inschrijvingsformulier">
		  	<form>
		  		<table>
		  			<tr>
		  				<% if @current_user.isAdmin || @current_user.isTeacher %>
		  				<td><label for="studentsSelect">Student:</label></td><td><input id="studentsSelect"/></td>
		  				<%elsif @current_user.isStudent %>
		  				<td>Student:</td><td id="studentName">{{studentName}}</td>
		  				<% end %>
		  			</tr>
		  			<tr></tr>
		  			<tr>
		  				<td>Leerkracht:</td><td id="teacherName">{{teacherName}}</td>
		  			</tr>
		  			<tr>
		  			</tr>
		  			<tr>
		  				<td>Lesuur:</td><td id="startLessonHour">{{startLessonHour}}</td>
		  			</tr>
		  			<tr></tr>
		  			<tr>
		  				<td>Lesdag:</td><td id="teachingDay">{{teachingDay}}</td>
		  			</tr>
		  		</table>

		    	<p>Type inschrijving:
		    		<input type="radio" name="enrollmentType" value="schoolyear" checked>Schooljaar</input>
		    		<input type="radio" name="enrollmentType" value="tenlessons">10 Lessen</input>
		    	</p>
		  	</form>
		</div>
	</script>
	<script type="text/template" class="template" id="newLessongroupTemplate">
		<div id="newLessongroupDialog" title="Nieuwe Groepsles">
			<form>
			<table>
				<tr>
		  			<td>Leerkracht:</td><td id="teacherName">{{teacherName}}</td>
		  			</tr>
		  			<tr></tr>
		  			<tr>
		  				<td>Lesuur:</td><td id="startLessonHour">{{startLessonHour}}</td>
		  			</tr>
		  			<tr></tr>
		  			<tr>
		  				<td>Lesdag:</td><td id="teachingDay">{{teachingDay}}</td>
		  			</tr>
					<tr>
						<td><label for="maxNumberOfStudents">Maximum aantal leerlingen:</label></td>
						<td><input type='text' id="maxNumberOfStudents" value ='5'></input></td>
					</tr>
					<tr>
						<td><label for="duration">Lesduur (minuten):</label></td>
						<td><input type='text' id="duration" value='60'></input></td>
					</tr>
			</table>
			</form>
		</div>
	</script>
	<script type="text/template" class="template" id="grouplessonDetailsDialogTemplate">
		<div id="grouplessonDetailsDialog" title="Groepsles details">
			<form>
			<table>
				<tr>
		  			<td>Leerkracht:</td><td id="teacherName">{{teacherName}}</td>
		  			</tr>
		  			<tr></tr>
		  			<tr>
		  				<td>Lesuur:</td><td id="startLessonHour">{{startLessonHour}}</td>
		  			</tr>
		  			<tr></tr>
		  			<tr>
		  				<td>Lesdag:</td><td id="teachingDay">{{teachingDay}}</td>
		  			</tr>
					<tr>
						<td>Maximum aantal leerlingen:</td>
						<td>{{maximumNumberOfStudents}}</td>
					</tr>
					<tr>
						<td>Lesduur (minuten):</td>
						<td>{{duration}}</td>
					</tr>
				</tr>
			</table>
			<div id="enrollments"></div>
			</form>
		</div>
	</script>
	<script type="text/template" class="template" id="enrollmentBoxTemplate">
		<span class="enrollment lessonbox {{^approved}}unapprovedenrollment{{/approved}} {{#approved}}{{^paid}}unpaidenrollment{{/paid}}{{/approved}}">{{studentName}}</span>
	</script>

	<script type="text/template" class="template" id="loginViewTemplate">
		<div id="login" class="configScreen">
			<h1>Inloggen</h1>
			<form>
				<table>
					<tr><td><label for="email">Email adres:</label></td><td><input type="text" name="email"></td></tr>
					<tr><td><label for="password">Paswoord:</label></td><td><input type="password" name="password"></td></tr>
					<tr><td></td><td><button class="submitButton">Inloggen</button></td></tr>
				</table>
			</form>
		</div>
	</script>

	<script type="text/template" class="template" id="periodOptionsTemplate">
		<div id="periodConfig" class="configScreen">
			<h1>Schooljaar</h1>
			<form>
				<h2>Start- en einddata</h2>
				Startdatum schooljaar: <br>
				<input type="text" class="datepicker" name="beginDate" placeholder="{{startDate}}"/><br>
				Laatste gewone inschrijvingsdag: <br>
				<input type="text" class="datepicker" name="endNormalEnrollmentsDate" placeholder="{{endNormalEnrollmentsDate}}"/><br>
				<h2>Dagen van de week</h2>
				<input type="checkbox" name="daysOpen" id="monday" {{#monday}}checked{{/monday}} > Maandag
				<input type="checkbox" name="daysOpen" id="tuesday" {{#tuesday}}checked{{/tuesday}} > Dinsdag
				<input type="checkbox" name="daysOpen" id="wednesday" {{#wednesday}}checked{{/wednesday}} > Woensdag
				<input type="checkbox" name="daysOpen" id="thursday" {{#thursday}}checked{{/thursday}} > Donderdag
				<input type="checkbox" name="daysOpen" id="friday" {{#friday}}checked{{/friday}} > Vrijdag
				<input type="checkbox" name="daysOpen" id="saturday" {{#saturday}}checked{{/saturday}} > Zaterdag
				<input type="checkbox" name="daysOpen" id="sunday" {{#sunday}}checked{{/sunday}} > Zondag
				<h2>Openingsuren</h2>
				<label for="startTime">Start dag:</label><br>
  				<input type="text" name="startTime" placeholder="{{startTime}}" /><br>
  				<label for="endTime">Einde dag:</label><br>
  				<input type="text" name="endTime" placeholder="{{endTime}}" /><br>
  				<h2>Open</h2>
				<input type="checkbox" name="openForEnrollment" value="true" {{#openForEnrollment}}checked{{/openForEnrollment}}>Open voor inschrijvingen? <br>
				<button class="submitButton">Submit</button>
			</form>
		</div>
	</script>
	<script type="text/template" class="template" id="optionsTemplate">
		<div id="options">
			<button id="options-period" class="optionsBox">Schooljaar</button><br>
			<button id="lessonsSearch" class="optionsBox">Zoeken</button>
		</div>
	</script>
	<script type="text/template" class="template" id="generalDialogTemplate">
		<div id="generalDialog" title="{{title}}">
		  	<form>
		  	{{text}}
		  	</form>
		</div>
	</script>
	<script>
		window.onload = function(){
			//<% if not @current_user.role.nil? %>
			//current_user.role = '<%= @current_user.getRole %>';
			//<% end %>	
			main();
		}
	</script>
	
</body>

</html>
